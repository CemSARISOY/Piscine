(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be184"],{"2f93":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"promos"}},[r("b-container",{staticClass:"mt-4"},[r("b-card",[r("b-form",{staticClass:"float-right",attrs:{inline:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("label",{staticClass:"sr-only",attrs:{for:"nomP"}},[t._v("Name")]),r("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"nomP",placeholder:"Entrer le nom"},model:{value:t.nvNom,callback:function(e){t.nvNom=e},expression:"nvNom"}}),r("label",{staticClass:"sr-only",attrs:{for:"prenomP"}},[t._v("Name")]),r("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"prenomP",placeholder:"Entrer le prenom"},model:{value:t.nvPrenom,callback:function(e){t.nvPrenom=e},expression:"nvPrenom"}}),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Ajouter")])],1),r("b-pagination",{attrs:{"total-rows":t.rows(),"per-page":t.perPage,"aria-controls":"table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),r("b-table",{attrs:{id:"table",striped:"",hover:"",items:t.profs,fields:t.fields,"show-empty":"","per-page":t.perPage,"current-page":t.currentPage},scopedSlots:t._u([{key:"cell(Suppression)",fn:function(e){return[r("b-button",{on:{click:function(r){return t.suppression(e.item.idProf)}}},[t._v(" Supprimer ")])]}},{key:"empty",fn:function(e){return[r("h4",[t._v(t._s(e.emptyTest="Aucun professeur à afficher"))])]}}])})],1)],1)],1)},n=[],s=r("bc3a"),a=r.n(s),i={data:function(){return{nvNom:"",nvPrenom:"",perPage:6,currentPage:1,sortBy:"",sortDesc:"",fields:[{key:"idProf",sortable:!0},{key:"nomProf",sortable:!0},{key:"prenomProf",sortable:!0},{key:"Suppression",sortable:!1}],profs:[]}},mounted:function(){var t=this;a.a.get("http://localhost:3000/api/professeurs",{withCredentials:!0}).then((function(e){for(var r=0;r<e.data.length;r++)console.log(e.Data),t.profs.push({idProf:e.data[r].idProf,nomProf:e.data[r].nomProf,prenomProf:e.data[r].prenomProf})}))},methods:{suppression:function(t){var e=this,r=confirm("Voulez vous vraiment supprimer l'étudiant de numéro : "+t+" ?");r&&a.a.delete("http://localhost:3000/api/professeurs/"+t,{withCredentials:!0}).then((function(){e.$router.go()})).catch((function(t){e.makeToast(t.response.data.message)}))},makeToast:function(t){this.$bvToast.toast(t,{title:"Erreur !",variant:"danger",autoHideDelay:5e3})},rows:function(){return this.profs.length},onSubmit:function(){var t=this;a.a.post("http://localhost:3000/api/professeurs",{nomProf:this.nvNom,prenomProf:this.nvPrenom},{withCredentials:!0}).then((function(){t.$router.go()})).catch((function(e){t.makeToast(e.response.data.message)}))}}},u=i,l=r("2877"),p=Object(l["a"])(u,o,n,!1,null,"78361e19",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0be184.7db07801.js.map
{"version":3,"sources":["webpack:///./src/components/infoCreneau.vue?d0cf","webpack:///./src/components/infoCreneau.vue?2cd7","webpack:///src/components/infoCreneau.vue","webpack:///./src/components/infoCreneau.vue?e6ae","webpack:///./src/components/infoCreneau.vue?faff"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","calendarOptions","staticRenderFns","id","title","getTitle","data","nomEvenement","date","dateHeure","component"],"mappings":"kHAAA,W,gECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUN,EAAIO,oBAAoB,IAClKC,EAAkB,G,sICoBtB,GACE,WAAF,CACI,aAAJ,QAEE,KAJF,WAKI,MAAJ,CACM,gBAAN,CACQ,QAAR,uBACQ,cAAR,CACU,KAAV,wCACU,OAAV,QACU,MAAV,mBAEQ,YAAR,eACQ,UAAR,eACQ,WAAR,kBACQ,OAAR,GAEQ,UAAR,EACQ,YAAR,EACQ,OAAR,OAIE,QAAF,CACI,SADJ,SACA,GACM,EAAN,iBACM,MAAN,+BAII,eAPJ,aAiCI,aAjCJ,SAiCA,GAAM,IAAN,OACM,GAAN,mCACQ,IAAR,mDACQ,EAAR,2BACU,IAAV,wBACU,GAAV,uBACY,IAAZ,UACA,kGACA,kBADA,cAEA,aAFA,uCAKY,GAAZ,GACc,IAAd,wDACA,KACc,EAAd,QACc,IAAd,2EACA,aACc,IAAd,2EACA,kDACA,gEACA,mEACA,uDACA,aACc,EAAd,6CACgB,aAAhB,EACgB,UAAhB,EACgB,aAAhB,EACgB,cAAhB,EACgB,UAAhB,GACA,CAAgB,iBAAhB,sBACgB,EAAhB,wDACkB,SAAlB,kBACA,kBACkB,MAAlB,8BAEA,mBACgB,QAAhB,yBAKY,MAAZ,kGACA,kBADA,cAEA,aAFA,2BAGA,uBAOE,QA7GF,WA6GI,IAAJ,OAAI,OAAJ,0JACA,+BADA,iCAIA,0EAJA,SAKA,WALA,OAKA,EALA,OAMA,IANA,YAMA,iBANA,kCAOA,oEAPA,QAOc,EAPd,OAQc,EAAd,4IACc,EAAd,CACgBC,GAAhB,oBACgBC,MAAOC,EAASC,KAAKC,aACrBC,KAAMC,GAEtB,oBACgB,EAAhB,+BAfA,QAMA,IANA,4EAmBA,8BAnBA,8DClIqV,I,wBCQjVC,EAAY,eACd,EACAjB,EACAS,GACA,EACA,KACA,WACA,MAIa,aAAAQ,E","file":"js/chunk-d037391e.de4dee45.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./infoCreneau.vue?vue&type=style&index=0&id=05e744ed&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('FullCalendar',{attrs:{\"options\":_vm.calendarOptions}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <!--button @click=\"toggleWeekends\">Afficher Week-end</button--> \n        <FullCalendar :options=\"calendarOptions\" />\n    </div>\n</template>\n\n\n<script src='fullcalendar/core/locales/fr'></script>\n\n<script>\n  import initialLocaleCode from '@fullcalendar/core/locales/fr'\n\n  import FullCalendar from '@fullcalendar/vue'\n  import dayGridPlugin from '@fullcalendar/daygrid'\n  import timeGridPlugin from '@fullcalendar/timegrid'\n  import interactionPlugin from '@fullcalendar/interaction'\n  //import listPlugin from '@fullcalendar/list' \n\n\n  import axios from 'axios'\n  export default {\n    components: {\n      FullCalendar // make the <FullCalendar> tag available\n    },\n    data() {\n      return {\n        calendarOptions: {\n          plugins: [ dayGridPlugin, timeGridPlugin, interactionPlugin], // listPlugin\n          headerToolbar: {\n            left:'dayGridMonth,timeGridWeek,timeGridDay' ,\n            center:'title',\n            right: 'prev next today'\n          },\n          initialView: 'dayGridMonth',\n          dateClick: this.dateClick,\n          eventClick: this.modifCreneau,\n          events: [\n          ],\n          weekends: false, // initial value as you want it or not \n          selectable: true,//initial value for selecting or not \n          locale: initialLocaleCode\n        }\n      }\n    },\n    methods: {\n      onSubmit(evt) {\n        evt.preventDefault()\n        alert(JSON.stringify(this.creneau))\n      \n      \n      },\n      getCreneauData(){\n          /*if(this.$store.getters.authenticated){\n            //var etudiantInfo = JSON.parse(this.$store.getters.userInfo)\n            try{\n              var url1 = \"http://localhost:3000/api/creneaux/\"\n              axios.get(url1).then((res) => {\n              for(let i=0; i<res.data.length;i++){\n                let creneau={}\n                await axios.get(\"http://localhost:3000/api/evenements/\"+res.data[i].idEvent).then((resultat)=>{\n                  creneau={\n                    id:res.data[i].idCreneau,\n                    heure:res.data[i].heureDebut,\n                    title: resultat.data.nomEvenement,\n                    date: res.data[i].date,\n                  }\n                  console.log(creneau)\n                })\n                this.calendarOptions.events.push(creneau)\n              }\n              console.log(\"lol\"+this.calendarOptions.events)\n            });\n            }catch(err){\n              console.log(\"erreur + \"+err);\n            }\n          }*/\n      },\n      modifCreneau(info){\n        if(this.$store.getters.authenticated){\n          const url1 = \"http://localhost:3000/api/creneaux/\"+info.event.id\n          axios.get(url1).then((res)=>{\n            let dateToFormat = new Date(res.data.date)\n            if(res.data.idGroupe==null){\n              var confirmation = confirm(\n                \"Date du créneau :\\n\" + dateToFormat.getDate()+\"/\"+(dateToFormat.getMonth()+1)+\"/\"+dateToFormat.getFullYear()+\"\\n\"+\n                \"Heure de début :\\n\" + res.data.heureDebut +\"\\n\"+\n                \"Salle :\\n\"+ res.data.salle + \"\\n\"+\n                \"Voulez-vous réserver ce créneau ?\"\n              )\n              if(confirmation){\n                const numEtud = JSON.stringify(this.$store.getters.userInfo.numEtudiant)\n                let etuds = []\n                etuds.push(numEtud)\n                const numEtud2 = prompt(\"Veuillez entrer votre le numéro étudiant de votre camarade 1 :\")\n                if(numEtud2) etuds.push(numEtud2)\n                const numEtud3 = prompt(\"Veuillez entrer votre le numéro étudiant de votre camarade 2 :\")\n                const tuteurGroupe = prompt(\"Veuillez entrer l'id de votre tuteur:\")\n                const nomTutEnt = prompt(\"Veuillez entrer le NOM de votre tuteur entreprise :\")\n                const prenomTutEnt = prompt(\"Veuillez entrer le PRENOM de votre tuteur entreprise :\")\n                const nomEntreprise = prompt(\"Veuillez entrer le nom de votre entreprise\")\n                if(numEtud3) etuds.push(numEtud3)\n                  axios.post(\"http://localhost:3000/api/groupes/\", {\n                    tuteurGroupe: tuteurGroupe,\n                    nomTutEnt : nomTutEnt,\n                    prenomTutEnt: prenomTutEnt,\n                    nomEntreprise: nomEntreprise,\n                    etudiants : etuds\n                  }, {withCredentials:true}).then( (response) => {\n                    axios.put(\"http://localhost:3000/api/creneaux/\"+info.event.id,{\n                    idGroupe:response.data.idGroupe,\n                    }).then((res)=>{\n                      alert(JSON.stringify(res.data))\n                    })\n                  }).catch( error => {\n                    console.log(error.response)\n                  })\n                  \n              }\n            } else {\n              alert(\"Date du créneau :\\n\" + dateToFormat.getDate()+\"/\"+(dateToFormat.getMonth()+1)+\"/\"+dateToFormat.getFullYear()+\"\\n\"+\n                \"Heure de début :\\n\" + res.data.heureDebut +\"\\n\"+\n                \"Salle :\\n\"+ res.data.salle + \"\\n\"+\n                \"Réservé par le groupe \"+res.data.idGroupe)\n            }\n          })\n          \n        }\n      },\n    },\n    async mounted(){\n        if(this.$store.getters.authenticated){\n          //var etudiantInfo = JSON.parse(this.$store.getters.userInfo)\n          try{\n            const url1 = \"http://localhost:3000/api/evenements/\"+this.$route.params.id+\"/creneaux/\"\n            let res = await axios.get(url1)\n            for(let i=0; i<res.data.length;i++){\n              let getTitle = await axios.get(\"http://localhost:3000/api/evenements/\"+this.$route.params.id)\n              let dateHeure = new Date(res.data[i].date).setHours(res.data[i].heureDebut.split(':')[0], res.data[i].heureDebut.split(':')[1], res.data[i].heureDebut.split(':')[2])\n              let creneau={\n                id:res.data[i].idCreneau,\n                title: getTitle.data.nomEvenement,\n                date: dateHeure,\n              }\n              if(!res.data[i].idGroupe){\n                this.calendarOptions.events.push(creneau)\n              }\n            }\n          }catch(err){\n            console.log(\"erreur + \"+err);\n          }\n        }\n    }\n  }\n</script>\n\n<style scoped>\n    .form{\n        width:50%;\n        margin:auto\n    }\n    #txtError{\n      color: red;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./infoCreneau.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./infoCreneau.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./infoCreneau.vue?vue&type=template&id=05e744ed&scoped=true&\"\nimport script from \"./infoCreneau.vue?vue&type=script&lang=js&\"\nexport * from \"./infoCreneau.vue?vue&type=script&lang=js&\"\nimport style0 from \"./infoCreneau.vue?vue&type=style&index=0&id=05e744ed&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05e744ed\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
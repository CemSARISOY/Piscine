{"version":3,"sources":["webpack:///./src/views/Profs.vue?5ce2","webpack:///src/views/Profs.vue","webpack:///./src/views/Profs.vue?953c","webpack:///./src/views/Profs.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","preventDefault","onSubmit","_v","model","value","callback","$$v","nvNom","expression","nvPrenom","rows","perPage","currentPage","profs","fields","scopedSlots","_u","key","fn","row","suppression","item","idProf","scope","_s","emptyTest","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,WAAW,CAACF,EAAG,cAAc,CAACG,YAAY,QAAQ,CAACH,EAAG,SAAS,CAACA,EAAG,SAAS,CAACG,YAAY,cAAcD,MAAM,CAAC,OAAS,IAAIE,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,SAASF,MAAW,CAACL,EAAG,QAAQ,CAACG,YAAY,UAAUD,MAAM,CAAC,IAAM,SAAS,CAACN,EAAIY,GAAG,UAAUR,EAAG,eAAe,CAACG,YAAY,uBAAuBD,MAAM,CAAC,GAAK,OAAO,YAAc,iBAAiBO,MAAM,CAACC,MAAOd,EAAS,MAAEe,SAAS,SAAUC,GAAMhB,EAAIiB,MAAMD,GAAKE,WAAW,WAAWd,EAAG,QAAQ,CAACG,YAAY,UAAUD,MAAM,CAAC,IAAM,YAAY,CAACN,EAAIY,GAAG,UAAUR,EAAG,eAAe,CAACG,YAAY,uBAAuBD,MAAM,CAAC,GAAK,UAAU,YAAc,oBAAoBO,MAAM,CAACC,MAAOd,EAAY,SAAEe,SAAS,SAAUC,GAAMhB,EAAImB,SAASH,GAAKE,WAAW,cAAcd,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,SAAS,QAAU,YAAY,CAACN,EAAIY,GAAG,cAAc,GAAGR,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaN,EAAIoB,OAAO,WAAWpB,EAAIqB,QAAQ,gBAAgB,SAASR,MAAM,CAACC,MAAOd,EAAe,YAAEe,SAAS,SAAUC,GAAMhB,EAAIsB,YAAYN,GAAKE,WAAW,iBAAiBd,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,QAAQ,QAAU,GAAG,MAAQ,GAAG,MAAQN,EAAIuB,MAAM,OAASvB,EAAIwB,OAAO,aAAa,GAAG,WAAWxB,EAAIqB,QAAQ,eAAerB,EAAIsB,aAAaG,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,oBAAoBC,GAAG,SAASC,GAAK,MAAO,CAACzB,EAAG,WAAW,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAI8B,YAAYD,EAAIE,KAAKC,WAAW,CAAChC,EAAIY,GAAG,oBAAoB,CAACe,IAAI,QAAQC,GAAG,SAASK,GAAO,MAAO,CAAC7B,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIkC,GAAGD,EAAME,UAAY,0CAA0C,IAAI,IAAI,IAC1mDC,EAAkB,G,qBC0CtB,GACE,KADF,WAEI,MAAJ,CACM,MAAN,GACM,SAAN,GACM,QAAN,EACM,YAAN,EACM,OAAN,GACM,SAAN,GACM,OAAN,EAAQ,IAAR,SAAQ,UAAR,IAAQ,IAAR,UAAQ,UAAR,IAAQ,IAAR,aAAQ,UAAR,IAAQ,IAAR,cAAQ,UAAR,IACM,MAAN,KAGE,QAbF,WAaI,IAAJ,OACI,EAAJ,+CAAM,iBAAN,IACA,kBACM,IAAN,4BACQ,QAAR,YACQ,EAAR,YAAU,OAAV,iBAAU,QAAV,kBAAU,WAAV,2BAIE,QAAF,CACI,YADJ,SACA,GAAM,IAAN,OACA,2EACA,GACQ,EAAR,qDAAU,iBAAV,qBACU,EAAV,gBACA,mBACU,EAAV,uCAII,UAXJ,SAWA,GACM,KAAN,kBACQ,MAAR,WACQ,QAAR,SACQ,cAAR,OAGI,KAlBJ,WAmBM,OAAN,mBAEI,SArBJ,WAqBM,IAAN,OACM,EAAN,gDAAQ,QAAR,WAAQ,WAAR,gBAAQ,iBAAR,IACA,iBACQ,EAAR,gBAEA,mBACQ,EAAR,yCC5F+U,I,YCO3UC,EAAY,eACd,EACAtC,EACAqC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-2d0be184.7db07801.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"promos\"}},[_c('b-container',{staticClass:\"mt-4\"},[_c('b-card',[_c('b-form',{staticClass:\"float-right\",attrs:{\"inline\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"nomP\"}},[_vm._v(\"Name\")]),_c('b-form-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"nomP\",\"placeholder\":\"Entrer le nom\"},model:{value:(_vm.nvNom),callback:function ($$v) {_vm.nvNom=$$v},expression:\"nvNom\"}}),_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"prenomP\"}},[_vm._v(\"Name\")]),_c('b-form-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"id\":\"prenomP\",\"placeholder\":\"Entrer le prenom\"},model:{value:(_vm.nvPrenom),callback:function ($$v) {_vm.nvPrenom=$$v},expression:\"nvPrenom\"}}),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Ajouter\")])],1),_c('b-pagination',{attrs:{\"total-rows\":_vm.rows(),\"per-page\":_vm.perPage,\"aria-controls\":\"table\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}),_c('b-table',{attrs:{\"id\":\"table\",\"striped\":\"\",\"hover\":\"\",\"items\":_vm.profs,\"fields\":_vm.fields,\"show-empty\":\"\",\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage},scopedSlots:_vm._u([{key:\"cell(Suppression)\",fn:function(row){return [_c('b-button',{on:{\"click\":function($event){return _vm.suppression(row.item.idProf)}}},[_vm._v(\" Supprimer \")])]}},{key:\"empty\",fn:function(scope){return [_c('h4',[_vm._v(_vm._s(scope.emptyTest = \"Aucun professeur à afficher\"))])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"promos\">\n        <b-container class=\"mt-4\">\n            <b-card>\n                <b-form inline @submit.prevent=\"onSubmit\" class=\"float-right\">\n                    <label class=\"sr-only\" for=\"nomP\">Name</label>\n                    <b-form-input\n                    id=\"nomP\"\n                    class=\"mb-2 mr-sm-2 mb-sm-0\"\n                    v-model=\"nvNom\"\n                    placeholder=\"Entrer le nom\"\n                    ></b-form-input>\n                    <label class=\"sr-only\" for=\"prenomP\">Name</label>\n                    <b-form-input\n                    id=\"prenomP\"\n                    class=\"mb-2 mr-sm-2 mb-sm-0\"\n                    v-model=\"nvPrenom\"\n                    placeholder=\"Entrer le prenom\"\n                    ></b-form-input>\n                    <b-button type=\"submit\" variant=\"primary\">Ajouter</b-button>\n                </b-form>\n                <b-pagination\n                v-model=\"currentPage\"\n                :total-rows=\"rows()\"\n                :per-page=\"perPage\"\n                aria-controls=\"table\"\n                ></b-pagination>\n                <b-table id=\"table\" striped hover :items=\"profs\" :fields=\"fields\" show-empty :per-page=\"perPage\" :current-page=\"currentPage\">\n                    <template #cell(Suppression)=\"row\">\n                        <b-button @click=\"suppression(row.item.idProf)\">\n                            Supprimer\n                        </b-button>\n                    </template>\n                    <template #empty=\"scope\">\n                        <h4>{{ scope.emptyTest = \"Aucun professeur à afficher\" }}</h4>\n                    </template>\n                </b-table>\n            </b-card>\n        </b-container>\n    </div>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n            nvNom: '',\n            nvPrenom: '',\n            perPage: 6,\n            currentPage: 1,\n            sortBy: '',\n            sortDesc: '',\n            fields: [{key:'idProf', sortable: true}, {key:'nomProf', sortable: true}, {key:'prenomProf', sortable: true}, {key:'Suppression', sortable: false}],\n            profs : [],\n        }\n    },\n    mounted(){\n        axios.get(\"http://localhost:3000/api/professeurs\", {withCredentials:true})\n        .then( (response) => {\n            for(let i = 0; i<response.data.length;i++){\n                console.log(response.Data)\n                this.profs.push({idProf : response.data[i].idProf, nomProf : response.data[i].nomProf, prenomProf : response.data[i].prenomProf})\n            }\n        });\n    },\n    methods:{\n        suppression(id){\n            let result = confirm(\"Voulez vous vraiment supprimer l'étudiant de numéro : \"+id+\" ?\")\n            if(result){\n                axios.delete(\"http://localhost:3000/api/professeurs/\"+id, {withCredentials:true}).then( () => {\n                    this.$router.go();\n                }).catch( (error) => {\n                    this.makeToast(error.response.data.message)\n                });\n            }\n        },\n        makeToast(string){\n            this.$bvToast.toast(string, {\n                title: 'Erreur !',\n                variant: 'danger',\n                autoHideDelay: 5000,\n            })\n        },\n        rows(){\n            return this.profs.length\n        },\n        onSubmit(){\n            axios.post(\"http://localhost:3000/api/professeurs\", {nomProf: this.nvNom, prenomProf: this.nvPrenom}, {withCredentials:true})\n            .then( () => {\n                this.$router.go();\n            })\n            .catch( (error) => {\n                this.makeToast(error.response.data.message)\n            });\n        }\n    }\n}\n</script>\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profs.vue?vue&type=template&id=78361e19&scoped=true&\"\nimport script from \"./Profs.vue?vue&type=script&lang=js&\"\nexport * from \"./Profs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78361e19\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}